(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,n,t){e.exports=t(48)},37:function(e,n,t){},44:function(e,n,t){},48:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(23),c=t.n(o),l=(t(37),t(28)),i=t(5),u=t(51),s=t(11),m=t.n(s),f=t(12),p=t(20),v=t(49),h=t(24),d=t(52),E=t(55);function w(e){var n=e.search,t=e.onSearchChange,a=e.onSearch;return r.a.createElement(d.a,{onSubmit:a},r.a.createElement(d.a.Group,{controlId:"book-title"},r.a.createElement(d.a.Label,null,"Book"),r.a.createElement(d.a.Control,{value:n,placeholder:"Book Title",onChange:function(e){return t(e.target.value)}})),r.a.createElement(E.a,{variant:"primary",type:"submit"},"Search"))}var g=t(54),k=t(53),b=t(50);function y(e,n,t,a,o,c,l){return r.a.createElement(k.a.Item,null,r.a.createElement(v.a,null,r.a.createElement(h.a,{xs:10},r.a.createElement("h2",null,e)),r.a.createElement(h.a,null,t&&r.a.createElement(E.a,{as:"a",href:t,variant:"primary",target:"_blank"},"View"),c&&r.a.createElement(E.a,{onClick:function(){return c({title:e,description:n,link:t,authors:a,image:o})},variant:"secondary"},"Save"),l&&r.a.createElement(E.a,{onClick:l,variant:"danger"},"Delete"))),r.a.createElement(v.a,null,r.a.createElement(h.a,null,r.a.createElement("p",null,a&&a.join(" ")))),r.a.createElement(v.a,null,r.a.createElement(h.a,{xs:2},r.a.createElement(b.a,{src:o})),r.a.createElement(h.a,null,r.a.createElement("p",null,n))))}function j(e){var n=e.books,t=void 0===n?[]:n;return r.a.createElement(g.a,null,r.a.createElement(g.a.Title,null,"Results"),r.a.createElement(g.a.Body,null,r.a.createElement(k.a,null,t.map(function(e){return r.a.createElement(y,Object.assign({key:e.id},e))}))))}var O={searchBooks:function(){var e=Object(f.a)(m.a.mark(function e(n){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://www.googleapis.com/books/v1/volumes?q=".concat(n),e.next=3,fetch(t);case 3:return a=e.sent,e.abrupt("return",a.json());case 5:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),saveBook:function(){var e=Object(f.a)(m.a.mark(function e(n){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/books",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({book:n})});case 2:return t=e.sent,e.abrupt("return",t.JSON());case 4:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}()};function S(){var e=Object(a.useState)(""),n=Object(p.a)(e,2),t=n[0],o=n[1],c=Object(a.useState)([]),l=Object(p.a)(c,2),i=l[0],u=l[1],s=function(){var e=Object(f.a)(m.a.mark(function e(n){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:O.saveBook(n);case 1:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),d=function(){var e=Object(f.a)(m.a.mark(function e(n){var a,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,O.searchBooks(t);case 3:a=e.sent,r=a.items.map(function(e){return{id:e.id,title:e.volumeInfo.title,description:e.volumeInfo.description,authors:e.volumeInfo.authors,image:e.volumeInfo.imageLinks.thumbnail,link:e.volumeInfo.infoLink,onSave:s}}),u(r);case 6:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,null,r.a.createElement(h.a,null,r.a.createElement(w,{search:t,onSearchChange:o,onSearch:d}))),r.a.createElement(v.a,null,r.a.createElement(h.a,null,r.a.createElement(j,{books:i}))))}t(43),t(44);var x=function(){return r.a.createElement(l.a,null,r.a.createElement(u.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:["/","/search"]},r.a.createElement(S,null)))))},B=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function C(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(r.a.createElement(x,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");B?function(e){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):C(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):C(e)})}}()}},[[32,1,2]]]);
//# sourceMappingURL=main.bba91c42.chunk.js.map